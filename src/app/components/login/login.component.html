<mat-grid-list cols="2" rowHeight="100%">
  <mat-grid-tile>
    <div>
      <img class="image" src="../../../assets/login.png" alt="Imagem de casal segurando um vaso de planta">
    </div>
  </mat-grid-tile>
  
  <mat-grid-tile>
      <mat-card appearance="outlined" style="padding: 16px;">
        <mat-card-header style="margin-bottom: 8px;">
          <mat-card-title>Login</mat-card-title>
        </mat-card-header>

        <form [formGroup]="loginForm" (ngSubmit)="login()">
        <mat-card-content>
          <div class="example-container">
            <mat-form-field class="width-input">
              <mat-label>Digite seu email</mat-label>
              <input
                matInput
                placeholder="exemplo@gmail.com"
                formControlName="email"
                required
              />
              @if (email.touched && email.invalid) {
                <mat-error>{{errorMessage()}}</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="example-container">
            <mat-form-field class="width-input">
              <mat-label>Digite sua senha</mat-label>
              <input matInput [type]="hide() ? 'password' : 'text'" 
                formControlName="senha" required />
              
                <button type="button"
                mat-icon-button
                matSuffix
                (click)="togglePasswordVisibility($event)"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide()"
              >
                <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </div>
        </mat-card-content>

        <mat-card-footer>
          <div class="footer">
            <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid || isLoading()">@if (isLoading()) {
              <mat-spinner diameter="20"></mat-spinner>
            } @else {
              Entrar
            }</button>
            <button 
            mat-raised-button 
            color="secondary" 
            type="button"
            (click)="register()"
            [disabled]="isLoading()"
          >
            Registrar
          </button>
          </div>
        </mat-card-footer>
        </form>
      </mat-card>
  </mat-grid-tile>
</mat-grid-list>